# StarRail-SlowRun
不疾跑的自用版，仅调整了锄大地相关内容  
没有交流群。可issue提bug等问题  
所有程序框架来自[Souloco的FastRun](https://github.com/Souloco/StarRail-FastRun)  
部分地图路线来自[Starry-Wind的StarRailAssistant](https://github.com/Starry-Wind/StarRailAssistant)  

# SlowRun相比FastRun的改动：
- 去掉了shift疾跑，使用慢跑路线
- E键交互，F是秘技
    - 若要换回F交互E秘技，修改utils/calculated.py里__init__变量
- map_json的start新增map_move功能
    - 传送点识图前向指定方向拖地图。如w2是朝上找，下滑2次。
- 缩减了很多sleep与图片匹配的overtime
- 转向识别角度的arrow.jpg换为png，对超180度旋转会往反方向转360-n
- 保存角色的经验值截图：开始、进入新星球、结束时

MiHoYo已声明:
```
"严禁使用外挂、加速器、脚本或其他破坏游戏公平性的第三方工具。"
"一经发现，米哈游（下亦称“我们”）将视违规严重程度及违规次数，采取扣除违规收益、冻结游戏账号、永久封禁游戏账号等措施。"
```

# 使用说明
- 环境配置
    - python安装
        - 版本要求```3.11.x```
        - [python推荐安装版本3.11.3](https://www.python.org/downloads/release/python-3113/)
        - 页面拉至底部，下载Windows installer (64-bit)
        - 点击安装包进行安装
        - 勾选Add Python 3.x to PATH
    - 依赖安装
        - 打开```cmd```并切换到StarRail-FastRun文件夹路径
            - 方法一：win+R输入cmd,输入```cd 文件夹路径```切换到StarRail-FastRun文件夹路径
            - 方法二:打开StarRail-FastRun文件夹,在```文件夹路径处输入cmd```
        - 输入```pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/```
        - 根据提示确认是否安装完毕
- 游戏设置
    - 是否沿用自动战斗设置---```是```
    - 视角灵敏度---3
    - 游戏分辨率```1920x1080```---有窗口化选窗口化没有就选全屏幕
- 软件设置
    - 以管理员身份运行```gui.exe```
    - ```英文(不带空格)```路径下使用
- 软件使用
    - 锄大地
        - ```远程角色```带队最佳
        - 路线测试角色```青雀|符玄|托帕|阮梅```
		    - K: 部分场景移动距离，三月七略短，驭空略长，不宜使用
        - 秘技使用---```部分路线打地图上的秘技点|托帕不必准备食物,地图上秘技点够用```
        - 秘技食物---```消耗补充秘技点的食物```
        - 截图记录---```存放至logs\image下|日志页面清理按钮可清空图片log|不对路线有所改动不必打开```
        - 自动关机---```关闭游戏|关闭程序|执行强制关机指令```
        - 重跑路线---```重跑次数为0不执行```
        - 疾跑切换---```K: 本修改版中，没必要使用```
        - 切换队伍---```按照配置切换队伍```
    - 清体力
        - 默认执行```当前选中配置```
        - 根据配置可按```时间指定配置```
    - 清任务
        - 请到```多功能执行页面```配置
        - 委托开关---领取委托
        - 支援奖励---领取支援奖励
        - 每日实训---领取每日实训奖励
        - 无名勋礼---领取无名勋礼任务
    - 多功能执行
        - 执行顺序```清委托-领取支援奖励-清体力-锄大地-模拟宇宙-领取每日实训-灵位无名勋礼-自动关机```
        - 清体力---是否执行清体力
        - 锄大地---是否执行锄大地
        - 模拟宇宙---是否执行模拟宇宙
        - 关闭模式---```禁止---不关闭任何东西|关闭---关闭游戏和程序|关机---关闭+关机|注销---关闭+注销```
    - 快捷键---在日志界面触发
        - 开始---```f7```
        - 暂停---```f8```
        - 结束---```f10```
    - 编辑配置
        - gui字体设置
        - gui字体大小
        - 切换锄地路线---```自定义锄地路线请仿造maps下的文件夹格式```
        - 更新代理---更新不成功自行更换可用的代理网址末尾需带有```/```
        - 游戏路径---```游戏本体路径Game\StarRail.exe```
        - 战斗时间---默认为900s
    - 快速启动---用于定时执行|自动开机执行
        - 在多功能执行页面```配置```
        - 清体力支持时间条件执行|默认执行```配置1```
        - 编辑配置页面---游戏路径设置成本体路径```Game/StarRail.exe```
        - 执行顺序```启动游戏-多功能执行顺序```
        - 以管理员身份运行```FastStart.exe```
        - 不支持快捷键
# 进阶使用
- 调用模拟宇宙(https://github.com/CHNZYX/Auto_Simulated_Universe)     
    - 点击Code---Download ZIP---下载Auto_Simulated_Universe-main.zip
    - 在本项目下解压成Auto_Simulated_Universe-main文件夹
    - 请先确保你已安装模拟宇宙需求的依赖环境
    - 模拟宇宙详细配置请使用模拟宇宙本体gui
- 定时执行
    - ```计算机管理-任务计划程序-创建任务```
    - 常规-```使用最高权限运行|配置```
    - 触发器-```设定时间```
    - 操作-```启动程序-选择FastStart.exe```
    - 条件|设置-自行设定
- 自动开机执行
    - BIOS电源设置自动开机时间由于不同品牌设置不同自行百度设置
    - 电源选项-选择电源按钮的功能-点击```更改当前不可用的设置```将```启用快速启动(推荐)```取消
    - 搭配```定时执行```
# 配置文件说明
## 锄大地路线```map_X-X-X.json```
- 参数说明
    - start列表参数

    | 参数 | 说明 |
    | --- | --- |
    | map: -1 | 找传送点之前先点-1楼层|
    | map_move: d2 | 找传送点之前先向右拖动地图界面2次 |
    | _point_ | 寻找传送点图片 |
    | transfer | 传送 |

    - map列表参数

    | 参数 | 说明 |
    | --- | --- |
    | a,s,w,d | 移动跑步---按下[a,s,w,d]指定秒数|
    | e | 使用秘技---数值为秘技使用动画时间,单位为秒 |
    | fighting | 攻击---数值为1,攻击完后等待战斗判定结束;其他数值攻击完后无战斗判断,2代表可破坏物标记,3代表秘技点标记|
    | loc_angle | 校准视角---数值0-360,右为0，上为90,左为180，下为270|
    | mouse_move | 水平移动视角---数值正负分别代表移动方向,单位为px|
    | delay | 延迟---数值为延迟时间,单位为秒 |

